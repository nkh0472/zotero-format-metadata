# 重构思路

## Format Metadata

- [] 在标准格式化流程中检查如下字段
  - [] 标题中的上下标
  - [] 期刊缩写
  - [] 期卷页检查
  - [] ...

- [] 添加条目时检查如下字段（单选）
  - [] 同标准格式化流程
  - [] 以下字段
    - [] 上下标
    - [] ...

## 字段格式化设置

### 条目类型

- 条目为附件时，提示。
- 条目类型为网页时，若 标题含有主要出版社关键词 / URL含有WOS、主要期刊出版社，提示。

### 作者 Creators

- 期刊文章、会议论文、等都应具有作者，若无，提示。
- 作者应以首字母大写存储，不得是全大写

### 标题

- 当编辑“标题”字段时，自动弹出富文本工具条
- 启用富文本快捷键
- 自动执行富文本识别
- 自动转换为句首大写

### 日期

- 日期保存为 ISO 格式

### 语言

- 自动识别语言
- 限制常用语言
  - 中文 | 英文 | 其他

### Publication

- 期刊文章应有 Publication
- 应以首字母大写存储，全大写的应转换

### 期刊缩写

- 期刊缩写的类别
  - ISO 4 带点 | ISO 4 不带点 | JCR
- 从本地数据集获取期刊缩写
- 当没有获取到时，通过 LTWA 推断
- 仍未获取到时，使用全称填充
  - 英文 | 中文

### 期卷页

- 期刊文章
  - 期卷至少要有一个字段不为空
  - 当期卷有值时，页应不为空
- 去掉前面的`0`.

### 高校

- 学位论文应有高校

### 地点

- 学位论文应有地点

## 其他功能设置

### 通过 DOI 更新元数据

更新如下字段：

### 重复条目提示

- 当添加条目时，检测是否与已有条目重复

---

## 菜单选项

- 执行标准格式化流程
- 执行强制格式化流程
- \---
- 自动识别标题上下标
- 将标题转为句首大写
- \---
- 自动识别条目语言
- 手动设置条目语言
- \---
- 查询期刊缩写
- 查询高校地点
- \---
- 通过 DOI 更新选定字段
- 通过 DOI 查询空白字段
- 通过 DOI 强制更新所有字段
- \---
- 去掉期卷页中多余的`0`
- 移除 DOI 前缀
- 将日期改为 ISO 格式
- 清理字段
